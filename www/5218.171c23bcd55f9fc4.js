"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5218],{5218:(N,u,i)=>{i.r(u),i.d(u,{TimePageModule:()=>C});var g=i(177),h=i(9417),s=i(4742),l=i(8986),m=i(1097);class p{constructor(r,o,e){this.name=r,this.value=o,this.itemStyle=e}}const y={name:"startOfDay",from:{hour:0,minute:0},to:{hour:0,minute:0},category:m.s.MARKER},T={name:"endOfDay",from:{hour:23,minute:59},to:{hour:23,minute:59},category:m.s.MARKER},E={MARKER:"black",PRAYER:"green",NONE:"yellow",PERSONAL:"blue",WORK:"red",HOME:"orange"};var n=i(3953),P=i(7468);let R=(()=>{var t;class r{constructor(e){this.serviceList=e}getAllTimeEvents(){return(0,P.p)(this.serviceList.filter(e=>e.isEnabled()).map(e=>e.getEventList()))}}return(t=r).\u0275fac=function(e){return new(e||t)(n.KVO("TimeEventSource[]"))},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var f=i(7892);function M(t,r){if(1&t&&(n.j41(0,"ion-content"),n.nrm(1,"div",2),n.k0s()),2&t){const o=n.XpG();n.R7$(),n.Y8G("options",o.options)}}const A=[{path:"",component:(()=>{var t;class r{constructor(e){this.timeEventAggregationService=e,this.dataReady=!1}ngOnInit(){this.timeEventAggregationService.getAllTimeEvents().subscribe(e=>{const a=e.reduce((c,D)=>c.concat(D));this.options=function d(t){return{title:{text:"A Case of Doughnut Chart",left:"center",top:"center"},series:[{type:"pie",data:t,radius:["50%","70%"]}]}}(function v(t){if(0==t.length)return[];t=[y,...t,T];const r=[];return 60*t[0].from.hour+t[0].from.minute>1&&r.push({from:0,to:60*t[0].from.hour+t[0].from.minute-1,isEmpty:!0,name:"empty slot",category:m.s.NONE}),t.forEach((o,e)=>{let a=60*o.from.hour+o.from.minute,c=60*o.to.hour+o.to.minute;e>0&&a-r[e-1].to>1&&r.push({from:r[e-1].to+1,to:a-1,isEmpty:!0,name:"empty slot",category:m.s.NONE}),r.push({from:a,to:c,isEmpty:!1,name:o.name,category:o.category})}),r.map(o=>new p(o.name,o.to-o.from,{color:E[o.category]}))}(a)),this.dataReady=!0})}}return(t=r).\u0275fac=function(e){return new(e||t)(n.rXU(R))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-time"]],decls:5,vars:2,consts:[[3,"translucent"],[4,"ngIf"],["echarts","",1,"demo-chart",3,"options"]],template:function(e,a){1&e&&(n.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Time"),n.k0s()()(),n.DNE(4,M,2,1,"ion-content",1)),2&e&&(n.Y8G("translucent",!0),n.R7$(4),n.Y8G("ngIf",a.dataReady))},dependencies:[g.bT,s.W9,s.eU,s.BC,s.ai,f.$P]}),r})()}];let O=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[l.iI.forChild(A),l.iI]}),r})(),C=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[g.MD,h.YN,s.bv,f.sN.forChild(),O]}),r})()}}]);